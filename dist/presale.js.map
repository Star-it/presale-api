{"version":3,"sources":["../presale.js"],"names":["contractAddress","Web3","require","web3","providers","HttpProvider","tokensSold","weiRaised","investorCount","weiRefunded","startTime","endTime","softCapReached","hardCap","crowdsaleFinished","totalTokens","router","Router","get","req","res","send","result","e","error","message","updateEtherScan","contractABI","myContract","eth","contract","at","call","toNumber","Math","pow","price","console","setInterval"],"mappings":"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","file":"presale.js","sourcesContent":["import express from \"express\";\n\nlet contractAddress = '0x00A9F7D093C46D95F0318e4A6fFc6Ed68F73044C'\n\nlet Web3 = require('web3')\nlet web3 = new Web3(new Web3.providers.HttpProvider(\"https://pub-node26224.etherscan.io\"));\n\nlet tokensSold = 0\nlet weiRaised = 0\nlet investorCount = 0\nlet weiRefunded = 0\nlet startTime = 0\nlet endTime = 0\nlet softCapReached = 0\nlet hardCap = 0\nlet crowdsaleFinished = 0\nlet totalTokens = 0\n\nconst router = express.Router()\n\nrouter.get('/getSmartContractInfo', async function (req, res) {\n  try {\n    res.send({\n      result: {\n        tokensSold: tokensSold,\n        weiRaised:weiRaised,\n        investorCount:investorCount,\n        weiRefunded:weiRefunded,\n        hardCap: hardCap,\n        startTime:startTime,\n        totalTokens: totalTokens,\n        endTime:endTime,\n        softCapReached: softCapReached,\n        crowdsaleFinished: crowdsaleFinished,\n        contractAddress: contractAddress\n      }\n    })\n  } catch (e) {\n    res.send({error: e.message})\n  }\n})\n\nfunction updateEtherScan() {\n  try {\n    let contractABI = [{\"constant\":true,\"inputs\":[],\"name\":\"name\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"purchaseLimit\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"softCapReached\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"endTime\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"beneficiary\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"withdraw\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"weiRaised\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"tokensSold\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"refund\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"weiRefunded\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"halt\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"startTime\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"collected\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"softCap\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"price\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"halted\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"unhalt\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"investorCount\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"crowdsaleFinished\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"hardCap\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"token\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"type\":\"function\"},{\"inputs\":[{\"name\":\"_hardCapUSD\",\"type\":\"uint256\"},{\"name\":\"_softCapUSD\",\"type\":\"uint256\"},{\"name\":\"_token\",\"type\":\"address\"},{\"name\":\"_beneficiary\",\"type\":\"address\"},{\"name\":\"_totalTokens\",\"type\":\"uint256\"},{\"name\":\"_priceETH\",\"type\":\"uint256\"},{\"name\":\"_purchaseLimitUSD\",\"type\":\"uint256\"},{\"name\":\"_startTime\",\"type\":\"uint256\"},{\"name\":\"_duration\",\"type\":\"uint256\"}],\"payable\":false,\"type\":\"constructor\"},{\"payable\":true,\"type\":\"fallback\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"amountRaised\",\"type\":\"uint256\"}],\"name\":\"GoalReached\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"softCap\",\"type\":\"uint256\"}],\"name\":\"SoftCapReached\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"holder\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"tokenAmount\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"etherAmount\",\"type\":\"uint256\"}],\"name\":\"NewContribution\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"holder\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"Refunded\",\"type\":\"event\"}]\n\n    let myContract = web3.eth.contract(contractABI).at(contractAddress)\n\n    tokensSold = myContract.tokensSold.call().toNumber() / Math.pow(10,18)\n    weiRaised = myContract.weiRaised.call().toNumber() / Math.pow(10,18)\n    investorCount = myContract.investorCount.call().toNumber()\n    weiRefunded = myContract.weiRefunded.call().toNumber()\n    hardCap = myContract.hardCap.call().toNumber() / Math.pow(10,18)\n    totalTokens = (myContract.hardCap.call().toNumber() * myContract.price.call().toNumber())  / Math.pow(10,18)\n    startTime = myContract.startTime.call().toNumber()\n    endTime = myContract.endTime.call().toNumber()\n    crowdsaleFinished  = myContract.crowdsaleFinished()\n    softCapReached = myContract.softCapReached()\n  } catch (e) {\n    console.error({error: e.message})\n  }\n}\n\nupdateEtherScan()\nsetInterval(updateEtherScan, 10000)\n\nexport default router"]}